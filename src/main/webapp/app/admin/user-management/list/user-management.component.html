<div xmlns="http://www.w3.org/1999/html">
  <h2>
    <span id="user-management-page-heading" appTranslate="userManagement.home.title" data-cy="userManagementPageHeading">Użytkownicy</span>

    <div class="d-flex justify-content-end">
      <button class="btn btn-info me-2" (click)="reloadAccounts()">
        <fa-icon icon="sync"></fa-icon>
        <span appTranslate="userManagement.home.refreshListLabel">Refresh list</span>
      </button>
      <button class="btn btn-primary jh-create-entity" [routerLink]="['./new']">
        <fa-icon icon="plus"></fa-icon>
        <span appTranslate="userManagement.home.createLabel">Stwórz nowego użytkownika</span>
      </button>
    </div>
  </h2>
  <div *ngIf="page$ | async as page">
    <table *ngIf="page.content" mat-table [dataSource]="page.content" matSort (matSortChange)="sortChange($event)">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header><span appTranslate="global.field.id">ID</span></th>
        <td mat-cell *matCellDef="let account">
          <a [routerLink]="['./', account.login, 'view']">{{ account.id }}</a>
        </td>
      </ng-container>
      <ng-container matColumnDef="login">
        <th mat-header-cell *matHeaderCellDef mat-sort-header><span appTranslate="userManagement.login">Login</span></th>
        <td mat-cell *matCellDef="let account">{{ account.login }}</td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header><span appTranslate="userManagement.email">Email</span></th>
        <td mat-cell *matCellDef="let account" class="">
          {{ account.email }}
        </td>
      </ng-container>
      <ng-container matColumnDef="activated">
        <th mat-header-cell *matHeaderCellDef><span appTranslate="userManagement.activated">Aktywny</span></th>
        <td mat-cell *matCellDef="let account">
          <mat-slide-toggle [checked]="account.activated" [disabled]="!currentAccount || currentAccount.login === account.login">
            {{ (account.activated ? 'userManagement.activated' : 'userManagement.deactivated') | translate }}
          </mat-slide-toggle>
        </td>
      </ng-container>
      <ng-container matColumnDef="langKey">
        <th mat-header-cell *matHeaderCellDef mat-sort-header><span appTranslate="userManagement.langKey">Język</span></th>
        <td mat-cell *matCellDef="let account">{{ account.langKey }}</td>
      </ng-container>
      <ng-container matColumnDef="authorities">
        <th mat-header-cell *matHeaderCellDef><span appTranslate="userManagement.profiles">Profile</span></th>
        <td mat-cell *matCellDef="let account">
          <mat-chip *ngFor="let authority of account.authorities" class="mr-2" color="primary">
            {{ authority }}
          </mat-chip>
        </td>
      </ng-container>
      <ng-container matColumnDef="createdDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          <span appTranslate="userManagement.createdDate">Data stworzenia</span>
        </th>
        <td mat-cell *matCellDef="let account">{{ account.createdDate | date : 'dd/MM/yy HH:mm' }}</td>
      </ng-container>
      <ng-container matColumnDef="lastModifiedDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header><span appTranslate="userManagement.lastModifiedDate">Data edycji</span></th>
        <td mat-cell *matCellDef="let account">{{ account.lastModifiedDate | date : 'dd/MM/yy HH:mm' }}</td>
      </ng-container>
      <ng-container matColumnDef="lastModifiedBy">
        <th mat-header-cell *matHeaderCellDef mat-sort-header><span appTranslate="userManagement.lastModifiedBy">Edytowany przez</span></th>
        <td mat-cell *matCellDef="let account">{{ account.lastModifiedBy }}</td>
      </ng-container>
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let account">
          <div class="btn-group">
            <button mat-button type="submit" [routerLink]="['./', account.login, 'view']" class="btn btn-info btn-sm">
              <mat-icon>visibility</mat-icon>
              <span class="d-none d-md-inline" appTranslate="entity.action.view">Widok</span>
            </button>
            <button
              mat-button
              type="submit"
              [routerLink]="['./', account.login, 'edit']"
              queryParamsHandling="merge"
              class="btn btn-primary btn-sm"
            >
              <mat-icon>edit</mat-icon>
              <span class="d-none d-md-inline" appTranslate="entity.action.edit">Edytuj</span>
            </button>
            <button
              type="button"
              (click)="deleteUser(account)"
              mat-button
              color="warn"
              [disabled]="!currentAccount || currentAccount.login === account.login"
            >
              <mat-icon>delete</mat-icon>
              <span class="d-none d-md-inline" appTranslate="entity.action.delete">Usuń</span>
            </button>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator
      [pageSizeOptions]="[1, 5, 10, 20]"
      [pageSize]="page.size"
      [pageIndex]="page.number"
      [length]="page.totalElements"
      (page)="pageChange($event)"
      showFirstLastButtons
      aria-label="Select page of periodic elements"
    >
    </mat-paginator>
  </div>
  <!--  <div class="table-responsive" *ngIf="users">-->
  <!--    <table class="table table-striped" aria-describedby="user-management-page-heading">-->
  <!--      <thead>-->
  <!--      <tr jhiSort [(predicate)]="predicate" [(ascending)]="ascending" (sortChange)="transition()">-->
  <!--        <th scope="col" jhiSortBy="id"><span appTranslate="global.field.id">ID</span>-->
  <!--          <fa-icon icon="sort"></fa-icon>-->
  <!--        </th>-->
  <!--        <th scope="col" jhiSortBy="login"><span appTranslate="userManagement.login">Login</span>-->
  <!--          <fa-icon icon="sort"></fa-icon>-->
  <!--        </th>-->
  <!--        <th scope="col" jhiSortBy="email"><span appTranslate="userManagement.email">Email</span>-->
  <!--          <fa-icon icon="sort"></fa-icon>-->
  <!--        </th>-->
  <!--        <th scope="col"></th>-->
  <!--        <th scope="col" jhiSortBy="langKey"><span appTranslate="userManagement.langKey">Język</span>-->
  <!--          <fa-icon icon="sort"></fa-icon>-->
  <!--        </th>-->
  <!--        <th scope="col"><span appTranslate="userManagement.profiles">Profile</span></th>-->
  <!--        <th scope="col" jhiSortBy="createdDate">-->
  <!--          <span appTranslate="userManagement.createdDate">Data utworzenia</span>-->
  <!--          <fa-icon icon="sort"></fa-icon>-->
  <!--        </th>-->
  <!--        <th scope="col" jhiSortBy="lastModifiedBy">-->
  <!--          <span appTranslate="userManagement.lastModifiedBy">Zmodyfikowany przez</span>-->
  <!--          <fa-icon icon="sort"></fa-icon>-->
  <!--        </th>-->
  <!--        <th scope="col" jhiSortBy="lastModifiedDate">-->
  <!--          <span appTranslate="userManagement.lastModifiedDate">Data modyfikacji</span>-->
  <!--          <fa-icon icon="sort"></fa-icon>-->
  <!--        </th>-->
  <!--        <th scope="col"></th>-->
  <!--      </tr>-->
  <!--      </thead>-->
  <!--      <tbody *ngIf="users">-->
  <!--      <tr *ngFor="let user of users; trackBy: trackIdentity">-->
  <!--        <td>-->
  <!--          <a [routerLink]="['./', user.login, 'view']">{{ user.id }}</a>-->
  <!--        </td>-->
  <!--        <td>{{ user.login }}</td>-->
  <!--        <td>{{ user.email }}</td>-->
  <!--        <td>-->
  <!--          <button-->
  <!--            class="btn btn-danger btn-sm"-->
  <!--            (click)="setActive(user, true)"-->
  <!--            *ngIf="!user.activated"-->
  <!--            appTranslate="userManagement.deactivated"-->
  <!--          >-->
  <!--            Nieaktywny-->
  <!--          </button>-->
  <!--          <button-->
  <!--            class="btn btn-success btn-sm"-->
  <!--            (click)="setActive(user, false)"-->
  <!--            *ngIf="user.activated"-->
  <!--            [disabled]="!currentAccount || currentAccount.login === user.login"-->
  <!--            appTranslate="userManagement.activated"-->
  <!--          >-->
  <!--            Aktywny-->
  <!--          </button>-->
  <!--        </td>-->
  <!--        <td>{{ user.langKey }}</td>-->
  <!--        <td>-->
  <!--          <div *ngFor="let authority of user.authorities">-->
  <!--            <span class="badge bg-info">{{ authority }}</span>-->
  <!--          </div>-->
  <!--        </td>-->
  <!--        <td>{{ user.createdDate | date: 'dd/MM/yy HH:mm' }}</td>-->
  <!--        <td>{{ user.lastModifiedBy }}</td>-->
  <!--        <td>{{ user.lastModifiedDate | date: 'dd/MM/yy HH:mm' }}</td>-->
  <!--        <td class="text-end">-->
  <!--          <div class="btn-group">-->
  <!--            <button type="submit" [routerLink]="['./', user.login, 'view']" class="btn btn-info btn-sm">-->
  <!--              <fa-icon icon="eye"></fa-icon>-->
  <!--              <span class="d-none d-md-inline" appTranslate="entity.action.view">Widok</span>-->
  <!--            </button>-->

  <!--            <button type="submit" [routerLink]="['./', user.login, 'edit']" queryParamsHandling="merge"-->
  <!--                    class="btn btn-primary btn-sm">-->
  <!--              <fa-icon icon="pencil-alt"></fa-icon>-->
  <!--              <span class="d-none d-md-inline" appTranslate="entity.action.edit">Edytuj</span>-->
  <!--            </button>-->

  <!--            <button-->
  <!--              type="button"-->
  <!--              (click)="deleteUser(user)"-->
  <!--              class="btn btn-danger btn-sm"-->
  <!--              [disabled]="!currentAccount || currentAccount.login === user.login"-->
  <!--            >-->
  <!--              <fa-icon icon="times"></fa-icon>-->
  <!--              <span class="d-none d-md-inline" appTranslate="entity.action.delete">Usuń</span>-->
  <!--            </button>-->
  <!--          </div>-->
  <!--        </td>-->
  <!--      </tr>-->
  <!--      </tbody>-->
  <!--    </table>-->
  <!--  </div>-->
</div>
